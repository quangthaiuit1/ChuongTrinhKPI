<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:pe="http://primefaces.org/ui/extensions"
	template="/pages/home.xhtml">

	<ui:define name="content">
		<style>
.selectbllb .ui-chkbox-label {
	font-size: 1.2em;
	margin-left: 20px;
	font-weight: bold;
}
</style>
		<h3 style="margin: 0px">Thiết lập thời gian gửi mail (nhắc nhở)</h3>
		<p:separator />
		<h:form id="list">
			<p:panel
				style="float:right; border:0px; margin-top:-35px !important;background:none;">
				<h:panelGrid id="mainGrid" columns="9"
					style="float:left; margin-bottom:5px">
					<p:commandButton type="submit" value="Mail nhắc KPI phòng"
						onclick="PF('widgetKPIDepartmentYear').show()"
						update="
									:dialogKPIDepartmentYear,:messages"
						process="@this" icon="fa fa-file-pdf-o" />
					<p:commandButton type="submit" value="Mail nhắc KPI cá nhân"
						onclick="PF('widgetKPIPersonalMonth').show()" process="@this"
						icon="fa fa-file-pdf-o" />
					<p:commandButton
						style="background: green;color: white;font-weight:bold"
						type="submit" value="START"
						actionListener="#{sendMailBean.startup()}" />
				</h:panelGrid>
			</p:panel>
		</h:form>
		<!-- Phong nam -->
		<p:dialog widgetVar="widgetKPIDepartmentYear" resizable="false"
			width="300" height="70" closeOnEscape="true" header="KPI phòng"
			modal="true">
			<h:form id="dialogKPIDepartmentYear">
				<center>
					<h:panelGrid columns="3" style="width:100%">
						<p:outputLabel value="Ngày: " />
						<p:spinner size="10" value="#{sendMailBean.dateOfMonthSelected}"
							min="1" max="27">
							<p:ajax process="@this" />
						</p:spinner>
						<p:commandButton type="submit" value="Lưu/cập nhật"
							style="background:#fbe4c6"
							action="#{sendMailBean.updateDateOfMonth()}" 
							icon="ui-icon-calculator" />
					</h:panelGrid>
				</center>
				<p:separator />
			</h:form>
		</p:dialog>
		<!-- Ca nhan thang -->
		<p:dialog widgetVar="widgetKPIPersonalMonth" resizable="false"
			width="400" height="70" closeOnEscape="true"
			header="Báo cáo KPI cá nhân theo tháng" modal="true">
			<h:form id="dialogKPIPersonalMonth">
				<center>
					<h:panelGrid columns="7" style="width:100%" cellspacing="1">
						<p:outputLabel value="Tháng: " />
						<p:selectOneMenu id="month"
							value="#{reportBean.monthSelectedPersonal}">
							<f:selectItems value="#{reportBean.months}" />
						</p:selectOneMenu>
						<p:outputLabel value="Năm" />
						<p:spinner size="10" value="#{reportBean.yearSelectedPersonal1}"
							min="2017" max="2050">
							<p:ajax process="@this" />
						</p:spinner>
						<p:commandButton type="submit" value="In PDF" ajax="false"
							style="background:#fbe4c6"
							actionListener="#{reportBean.showReportPersonalMonth()}"
							onclick="this.form.target='_blank'" icon="ui-icon-calculator" />
					</h:panelGrid>
				</center>
				<p:separator />
			</h:form>
		</p:dialog>
		<h:inputHidden value="#{reminder.currentDate.date}" />
	</ui:define>
</ui:composition>